See http://blog.reigndesign.com/blog/building-a-wechat-weixin-robot/